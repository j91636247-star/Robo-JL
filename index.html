<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Rob√¥ JL</title>
  <link rel="manifest" href="manifest.json">
  <meta name="theme-color" content="#000000"/>
  <style>
    :root{
      --gold:#ffd700;
      --glass-bg: rgba(18,18,20,0.7);
    }
    html,body{height:100%;margin:0;padding:0;background:#000;
      font-family:"Segoe UI",Tahoma,Geneva,Verdana,sans-serif;overflow:hidden;color:#fff}
    /* BOT√ÉO PLANILHA */
    #planilha-toggle{
      position:fixed;bottom:120px;left:14px;width:48px;height:48px;border-radius:12px;
      background:linear-gradient(180deg, rgba(24,24,26,0.95), rgba(10,10,12,0.75));
      border:2px solid rgba(212,175,55,0.14);
      box-shadow:0 0 6px #0ff, 0 0 12px #00f, inset 0 0 8px #0ff;
      z-index:40;display:flex;align-items:center;justify-content:center;cursor:pointer;
      transition:transform .14s ease;backdrop-filter: blur(4px) saturate(120%);
    }
    #planilha-toggle:active{transform:translateY(2px) scale(.99);}
    #planilha-svg{width:32px;height:32px;fill:#ffd700}
    .planilha-panel{
      position:fixed;top:0;left:0;width:100%;height:40%;background:var(--glass-bg);
      border-bottom-left-radius:16px;border-bottom-right-radius:16px;
      border:2px solid rgba(212,175,55,0.14);
      color:#fff;z-index:39;padding:14px;box-sizing:border-box;
      transform:translateY(-100%);opacity:0;pointer-events:none;
      transition:transform .36s cubic-bezier(.2,.9,.2,1),opacity .28s ease;
      backdrop-filter: blur(8px) saturate(120%);
    }
    .planilha-panel.open{transform:translateY(0);opacity:1;pointer-events:auto}
    .planilha-box{display:grid;gap:10px}
    .planilha-box input{
      width:100%;padding:10px;border-radius:8px;border:none;
      background:rgba(0,0,0,0.4);color:#fff;font-size:14px;text-align:center
    }
    .planilha-result{padding:8px;border-radius:8px;
      background:rgba(255,255,255,0.08);text-align:center;font-weight:700}
  </style>
</head>
<body>

  <h1 style="text-align:center;margin-top:20px;">ü§ñ Rob√¥ JL + üìä Planilha</h1>

  <!-- BOT√ÉO PLANILHA -->
  <div id="planilha-toggle">
    <svg id="planilha-svg" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
      <path d="M3 3h18v18H3V3zm2 2v14h14V5H5zm2 2h10v2H7V7zm0 4h10v2H7v-2zm0 4h6v2H7v-2z"/>
    </svg>
  </div>

  <!-- PAINEL PLANILHA -->
  <div class="planilha-panel" id="planilhaPanel">
    <h2>üìä Gerenciamento</h2>
    <div class="planilha-box">
      <input type="number" id="banca" placeholder="Digite o valor da banca"/>
      <div class="planilha-result" id="entrada">üí∞ Entrada: --</div>
      <div class="planilha-result" id="stopLoss">‚ùå Stop Loss: --</div>
      <div class="planilha-result" id="stopWin">‚úÖ Stop Win: --</div>
    </div>
  </div>

  <script>
    // Ativar PWA
    if ('serviceWorker' in navigator) {
      navigator.serviceWorker.register('service-worker.js')
      .then(() => console.log("Service Worker registrado"))
      .catch(err => console.error("Erro SW:", err));
    }

    // Planilha toggle
    const planilhaToggle=document.getElementById('planilha-toggle');
    const planilhaPanel=document.getElementById('planilhaPanel');
    let planilhaOpen=false;
    planilhaToggle.addEventListener('click',()=>{
      planilhaOpen?(planilhaPanel.classList.remove('open'),planilhaOpen=false)
                   :(planilhaPanel.classList.add('open'),planilhaOpen=true);
    });

    // C√°lculos fixos
    const bancaInput=document.getElementById('banca');
    const entradaEl=document.getElementById('entrada');
    const stopLossEl=document.getElementById('stopLoss');
    const stopWinEl=document.getElementById('stopWin');

    bancaInput.addEventListener('input',()=>{
      const banca=parseFloat(bancaInput.value);
      if(!isNaN(banca)&&banca>0){
        const entrada=(banca*0.01).toFixed(2);
        const loss=(banca*0.20).toFixed(2);
        const win=(banca*0.30).toFixed(2);
        entradaEl.textContent=`üí∞ Entrada: R$ ${entrada}`;
        stopLossEl.textContent=`‚ùå Stop Loss: R$ ${loss}`;
        stopWinEl.textContent=`‚úÖ Stop Win: R$ ${win}`;
      }
    });
  </script>
</body>
</html>
